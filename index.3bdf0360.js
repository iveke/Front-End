async function t(){try{return(await fetch("http://localhost:1532/comments")).json()}catch(t){alert(`sorry you have fail ${t}`)}}async function e(){try{return(await fetch("http://localhost:1532/posts")).json()}catch(t){alert(`sorry you have fail ${t}`)}}async function n(t){const e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};try{const t=await fetch("http://localhost:1532/comments",e);return console.log(t.json())}catch(t){alert(`sorry you have fail ${t}`)}}async function a(t,e){const n={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};try{const t=await fetch(`http://localhost:1532/posts/${e}`,n),a=await t.json();return await a}catch(t){alert(t)}}async function c(t){const e={method:"DELETE"};try{await fetch(`http://localhost:1532/posts/${t}`,e)}catch(t){alert(`sorry you have fail ${t}`)}}async function o(){i.comments.innerHTML="";const e=await t(),n=[];e.forEach((t=>{const e=`<div class="card comment text-center">\n        <div class="card-header">\n            Comment${t.id}\n        </div>\n        <div class="card-body">\n            <p class="card-text">${t.body}</p>\n        </div>\n    </div>`;n.push(e)})),i.comments.insertAdjacentHTML("beforeend",n.join(""))}let s;async function r(t){t.preventDefault();const e={title:`${i.title.value}`,body:`${i.body.value}`},n=await a(e,s),c=document.getElementById(`${n.id}`),o=c.querySelector(".card-title"),r=c.querySelector(".card-text");o.textContent=`${n.title}`,r.textContent=`${n.body}`}const i={form:document.getElementById("form"),cards:document.querySelector(".cards"),title:document.getElementById("title"),body:document.getElementById("body"),save:document.getElementById("save"),comments:document.querySelector(".comments")};i.cards.addEventListener("click",(async function(t){if(!t.target.classList.contains("btn-danger"))return;const e=t.target.parentElement.parentElement;c(e.id),e.remove()})),i.cards.addEventListener("click",(function(t){if(!t.target.classList.contains("btn-success"))return;const e=t.target.parentElement,n={title:e.querySelector(".card-title").textContent,text:e.querySelector(".card-text").textContent};i.title.value=n.title,i.body.value=n.text,console.log(s),s=e.parentElement.id,console.log(s),i.save.addEventListener("click",r)})),i.form.addEventListener("submit",(function(t){t.preventDefault(),n({body:`${new FormData(i.form).get("comment")}`}),o(),t.target.reset()})),async function(){i.cards.innerHTML="";const t=await e(),n=[];t.forEach((t=>{const e=`<li id="${t.id}" class="card" style="width: 20rem;">\n        <div class="card-body">\n            <h5 class="card-title">${t.title}</h5>\n            <p class="card-text">${t.body}</p>\n            <button type="button" class="btn btn-danger">Delete</button>\n            <button type="button" style="margin-top:10px" class="btn btn-success"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Update</button>\n        </div>\n    </li>`;n.push(e)})),i.cards.insertAdjacentHTML("beforeend",n.join(""))}(),o();
//# sourceMappingURL=index.3bdf0360.js.map
